<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoiceEditor Debug Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .debug { background: #f5f5f5; padding: 10px; margin: 10px 0; border-radius: 5px; }
        .error { background: #ffebee; color: #c62828; }
        .success { background: #e8f5e8; color: #2e7d32; }
        .warning { background: #fff3e0; color: #ef6c00; }
    </style>
</head>
<body>
    <h1>VoiceEditor Debug Test</h1>
    
    <div id="debugLog"></div>
    
    <div id="testResults">
        <h3>Loading Test Results:</h3>
        <div id="loadResult" class="debug">Testing...</div>
    </div>
    
    <div id="voiceEditorSection">
        <div style="text-align: center; padding: 20px;">
            <div>Loading VoiceEditor...</div>
        </div>
    </div>

    <script>
        console.log('üöÄ Debug test page starting...');
        
        function log(message, type = 'info') {
            const debugLog = document.getElementById('debugLog');
            const div = document.createElement('div');
            div.className = `debug ${type}`;
            div.innerHTML = `[${new Date().toLocaleTimeString()}] ${message}`;
            debugLog.appendChild(div);
            console.log(message);
        }
        
        log('Page loaded, testing VoiceEditor...');
        
        // Test 1: Check if script tag loads
        window.addEventListener('load', function() {
            log('Window load event fired');
            
            setTimeout(function() {
                log('Testing VoiceEditor availability...');
                
                // Check various ways VoiceEditor might be available
                log(`typeof VoiceEditor: ${typeof VoiceEditor}`);
                log(`typeof window.VoiceEditor: ${typeof window.VoiceEditor}`);
                log(`VoiceEditor available: ${typeof VoiceEditor !== 'undefined'}`);
                
                if (typeof VoiceEditor !== 'undefined') {
                    log('‚úÖ VoiceEditor found!', 'success');
                    log(`VoiceEditor.init type: ${typeof VoiceEditor.init}`);
                    
                    if (typeof VoiceEditor.init === 'function') {
                        log('Attempting to initialize VoiceEditor...', 'warning');
                        try {
                            const result = VoiceEditor.init();
                            log(`‚úÖ VoiceEditor.init() result: ${result}`, 'success');
                        } catch (error) {
                            log(`‚ùå VoiceEditor.init() error: ${error.message}`, 'error');
                        }
                    } else {
                        log('‚ùå VoiceEditor.init is not a function', 'error');
                    }
                } else {
                    log('‚ùå VoiceEditor not found in global scope', 'error');
                    
                    // Check what IS available
                    const voiceRelated = Object.keys(window).filter(key => 
                        key.toLowerCase().includes('voice') || 
                        key.toLowerCase().includes('speech')
                    );
                    log(`Voice-related globals found: ${voiceRelated.join(', ')}`);
                }
                
                document.getElementById('loadResult').innerHTML = 
                    typeof VoiceEditor !== 'undefined' ? 
                    '<span style="color: green;">‚úÖ VoiceEditor loaded successfully!</span>' : 
                    '<span style="color: red;">‚ùå VoiceEditor failed to load</span>';
                    
            }, 500);
        });
    </script>
    
    <!-- Load VoiceEditor -->
    <script src="voiceEditor.js"></script>
    
</body>
</html>
