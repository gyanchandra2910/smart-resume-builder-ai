<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Editor Load Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h3>Voice Editor Load Test</h3>
            </div>
            <div class="card-body">
                <h5>Script Loading Status:</h5>
                <div id="status"></div>
                
                <h5 class="mt-4">Available Objects:</h5>
                <div id="objects"></div>
                
                <button class="btn btn-primary mt-3" onclick="testLoad()">Test Load</button>
            </div>
        </div>
    </div>

    <script>
        function updateStatus(message, type = 'info') {
            const status = document.getElementById('status');
            status.innerHTML += `<div class="alert alert-${type}">${message}</div>`;
        }
        
        function updateObjects() {
            const objects = document.getElementById('objects');
            objects.innerHTML = `
                <pre>
typeof VoiceEditor: ${typeof VoiceEditor}
typeof window.VoiceEditor: ${typeof window.VoiceEditor}
typeof initVoiceEditor: ${typeof initVoiceEditor}
VoiceEditor available: ${typeof VoiceEditor !== 'undefined'}
VoiceEditor.init available: ${typeof VoiceEditor !== 'undefined' && typeof VoiceEditor.init === 'function'}
</pre>
            `;
        }
        
        function testLoad() {
            updateStatus('Testing VoiceEditor load...', 'info');
            
            if (typeof VoiceEditor !== 'undefined') {
                updateStatus('✅ VoiceEditor is available', 'success');
                if (typeof VoiceEditor.init === 'function') {
                    updateStatus('✅ VoiceEditor.init is a function', 'success');
                    try {
                        const result = VoiceEditor.init();
                        updateStatus(`✅ VoiceEditor.init() returned: ${result}`, 'success');
                    } catch (error) {
                        updateStatus(`❌ VoiceEditor.init() error: ${error.message}`, 'danger');
                    }
                } else {
                    updateStatus('❌ VoiceEditor.init is not a function', 'danger');
                }
            } else {
                updateStatus('❌ VoiceEditor is not available', 'danger');
            }
            
            updateObjects();
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            updateStatus('DOM loaded', 'info');
            updateObjects();
        });
    </script>
    
    <script src="voiceEditor.js"></script>
    
    <script>
        setTimeout(function() {
            updateStatus('Scripts loaded', 'info');
            updateObjects();
        }, 100);
    </script>
</body>
</html>
